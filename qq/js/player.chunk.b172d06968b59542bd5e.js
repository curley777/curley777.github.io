(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{376:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(367),l=n.n(o),i=n(108),s=n.n(i),c=n(78),u=n.n(c),m=n(361),d=n.n(m),p=n(362),f=n.n(p),h=n(149),g=n.n(h),y=n(363),_=n.n(y),v=n(364),b=n.n(v),E=n(365),k=n.n(E),L=n(76),N=n.n(L),x=n(3),w=n.n(x),C=n(10),S=n(15),P=n(399),O=n(467),T=n(408),D=n(423),M=n(404),I=n(389),j=n(402),A=n(16),R=n(390),q=n(429),Y=n(419),F=n(471);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t=e.config,n=e.setConfig,a=function(e){n(U(U({},t),{},{mod:e}))};return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"form__part"},w.a.createElement("div",{className:"form__label"},"\u5386\u53f2\u64ad\u653e\u5217\u8868"),w.a.createElement("span",{className:"mod_form_check"},w.a.createElement("label",{className:"form_check__label"},w.a.createElement("span",{className:"form_check__checkbox ".concat(t.deleteList?"":"sprite form_check__checkbox--check")},w.a.createElement("input",{type:"checkbox",name:"privacy",className:"form_check__check",onClick:function(){n(U(U({},t),{},{deleteList:!t.deleteList}))}})),"\u4fdd\u7559\uff08\u52fe\u9009\u540e\uff0c\u6bcf\u6b21\u65b0\u6253\u5f00\u64ad\u653e\u5668\uff0c\u5c06\u4fdd\u7559\u4e0a\u6b21\u5173\u95ed\u65f6\u7684\u64ad\u653e\u5217\u8868\uff09"))),w.a.createElement("div",{className:"form__part"},w.a.createElement("div",{className:"form__label"},"\u64ad\u653e\u8bbe\u7f6e"),w.a.createElement("span",{className:"mod_form_radio"},w.a.createElement("label",{className:"form_radio__label"},w.a.createElement("span",{className:"form_radio__radiobox sprite ".concat(0===t.mod?"form_radio__radiobox--check":"")},w.a.createElement("input",{type:"radio",name:"privacy",className:"form_radio__radio",onClick:function(){a(0)}})),"\u7acb\u5373\u64ad\u653e",w.a.createElement("span",{className:"c_tx_thin"},"(\u9ed8\u8ba4\u6dfb\u52a0\u5230\u64ad\u653e\u961f\u5217\u6700\u9876\u90e8)"))),w.a.createElement("span",{className:"mod_form_radio"},w.a.createElement("label",{className:"form_radio__label"},w.a.createElement("span",{className:"form_radio__radiobox sprite ".concat(1===t.mod?"form_radio__radiobox--check":"")},w.a.createElement("input",{type:"radio",name:"privacy",className:"form_radio__radio",onClick:function(){a(1)}})),"\u6dfb\u52a0\u5230\u64ad\u653e\u961f\u5217\u672b\u5c3e")),w.a.createElement("span",{className:"mod_form_radio"},w.a.createElement("label",{className:"form_radio__label"},w.a.createElement("span",{className:"form_radio__radiobox sprite ".concat(2===t.mod?"form_radio__radiobox--check":"")},w.a.createElement("input",{type:"radio",name:"privacy",className:"form_radio__radio",onClick:function(){a(2)}})),"\u4e0b\u4e00\u9996\u64ad\u653e"))))},Q=function(){var e=Object(x.useState)(F.a.get()),t=u()(e,2),n=t[0],a=t[1],r=Object(x.useState)(!1),o=u()(r,2),l=o[0],i=o[1];return w.a.createElement(w.a.Fragment,null,w.a.createElement("a",{className:"player_login__link player_login__link--set",onClick:function(){i(!0)}},w.a.createElement("span",{className:"player_login__txt"},"\u8bbe\u7f6e")),l&&w.a.createElement(Y.a,{visible:!0,childrenIsClose:!0,width:600,onClose:function(){i(!1)}},w.a.createElement(M.a,{title:"\u64ad\u653e\u5668\u8bbe\u7f6e",topLevelClass:"mod_popup popup_player",content:w.a.createElement(V,{config:n,setConfig:a}),btn:[{fn:function(){i(!1)},text:"\u53d6\u6d88"},{fn:function(){F.a.set(n),i(!1)},text:"\u786e\u5b9a"}]})))},J=(n(532),null),W=function(){var e=Object(x.useState)(!1),t=u()(e,2),n=t[0],a=t[1],r=Object(x.useState)(null),o=u()(r,2),l=o[0],i=o[1];Object(x.useEffect)((function(){S.c.isBrowser&&R.a.isLogin()&&R.a.getVipInfo().then((function(e){i(e)}))}),[]);var s=l&&l.base,c=S.c.isBrowser&&"2"===S.d.getCookie("login_type")?"//y.qq.com/mediastyle/yqq/img/login_wechat.png?max_age=2592000":"//y.qq.com/mediastyle/yqq/img/login_qq.png?max_age=2592000";return w.a.createElement("div",{className:"mod_player_login",onMouseEnter:function(){J&&(clearTimeout(J),J=null),n||a(!0)},onMouseLeave:function(){n&&(J=window.setTimeout((function(){a(!1),J=null}),500))}},w.a.createElement("div",{className:"player_login__guide"},"QQ\u97f3\u4e50\uff0c\u5343\u4e07\u9ad8\u54c1\u8d28\u66f2\u5e93\u5c3d\u4eab",w.a.createElement("a",{className:"player_login__guide_btn",onClick:function(){Object(q.b)()}},w.a.createElement("i",null),"\u5ba2\u6237\u7aef\u4e0b\u8f7d")),s?w.a.createElement("a",{className:"player_login__link",href:Object(A.d)(A.a.PROFILE),target:"_blank",rel:"noopener noreferrer"},w.a.createElement("img",{src:l.base.headurl,className:"player_login__cover",alt:""}),w.a.createElement("img",{src:c,className:"player_login__icon"}),w.a.createElement("span",{className:"player_login__txt"},l.base.nick)):w.a.createElement("a",{className:"player_login__link",onClick:function(){R.a.isLogin()||R.a.openLogin()}},w.a.createElement("span",{className:"player_login__txt"},"\u767b\u5f55")),w.a.createElement(Q,null),s&&n&&w.a.createElement("a",{className:"player_login__out",onClick:R.a.loginOut},"\u9000\u51fa"))},z=n(398),G=(n(533),n(397)),H=n(366),X=n.n(H),Z=function(e,t,n,a){return null!==e.interval&&(t===n.length-1?a>=e.interval:a>=e.interval&&a<n[t+1].interval)},K=function(e,t){var n=function(e){for(var t=e.offsetLeft,n=e.offsetParent;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t}(t),a=(e.clientX-n)/t.offsetWidth;return a>1?a=1:a<0&&(a=0),a},$=n(409),ee=n(450);function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var ne=function(e){_()(n,e);var t=te(n);function n(){var e,a;d()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return b()(a,(e=a=t.call.apply(t,[this].concat(o)),a.handleLyricMouseWheel=function(e){e.preventDefault(),e.stopPropagation()},e))}return f()(n,[{key:"componentDidMount",value:function(){document.getElementById("qrc_ctn").addEventListener("wheel",this.handleLyricMouseWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){document.getElementById("qrc_ctn").removeEventListener("wheel",this.handleLyricMouseWheel)}},{key:"render",value:function(){var e,t,n,a,r,o,l,i=this.props,s=i.song,c=i.lyric,u=i.getPlayLyricElment,m=i.translateY,d=i.isTrans,p=i.openLang,f=i.currentTime,h=i.showTransBtn,g=i.handleDragLyricMouseDown;return w.a.createElement("div",{className:"mod_song_info"},w.a.createElement("div",{className:"song_info__info"},w.a.createElement("a",{className:"song_info__cover",href:null!==s&&void 0!==s&&null!==(e=s.album)&&void 0!==e&&e.mid?Object(A.d)(A.a.ALBUM_DETAIL,null===s||void 0===s||null===(t=s.album)||void 0===t?void 0:t.mid):"",target:"_blank",rel:"noopener noreferrer"},w.a.createElement(z.a,{noFixUrl:!0,imgurl:Object(ee.a)(s,"//y.qq.com/mediastyle/yqq/extra/player_cover.png?max_age=31536000"),type:"album",name:s&&s.name,className:"song_info__pic"})),s&&w.a.createElement(x.Fragment,null,w.a.createElement("div",{className:"song_info__name"},"\u6b4c\u66f2\u540d\uff1a",w.a.createElement("a",{href:Object($.d)({id:s.id,mid:s.mid,songtype:s.type}),target:"_blank",rel:"noopener noreferrer"},s.title)),w.a.createElement("div",{className:"song_info__singer"},(null===(n=s.singer)||void 0===n?void 0:n.length)>0&&(null===(a=s.singer[0])||void 0===a?void 0:a.id)>0&&w.a.createElement(w.a.Fragment,null,"\u6b4c\u624b\uff1a",w.a.createElement(G.a,{singers:s.singer}))),w.a.createElement("div",{className:"song_info__album"},(null===s||void 0===s||null===(r=s.album)||void 0===r?void 0:r.id)>0&&(null===s||void 0===s||null===(o=s.album)||void 0===o?void 0:o.name)&&w.a.createElement(w.a.Fragment,null,"\u4e13\u8f91\uff1a",w.a.createElement("a",{href:Object(A.d)(A.a.ALBUM_DETAIL,(null===s||void 0===s||null===(l=s.album)||void 0===l?void 0:l.mid)||""),target:"_blank",rel:"noopener noreferrer"},s.album.name))))),w.a.createElement("div",{className:"song_info__lyric"},w.a.createElement("div",{className:"song_info__lyric_box",id:"js_lyric_box"},w.a.createElement("div",{className:"song_info__lyric_inner",style:{transition:"transform 0.1s ease-out",transform:"translateY(-".concat(m,"px)")},id:"qrc_ctn",onMouseDown:g},c&&c.map((function(e,t){var n=Z(e,t,c,f);return w.a.createElement("p",{className:X()({on:n}),key:t,ref:function(e){n&&u(e)}},e.context)}))))),h&&w.a.createElement("a",{onClick:p,className:X()("btn_lang",{"btn_lang--select":d})},w.a.createElement("i",{className:"icon_txt"},"\u5f00\u542f\u97f3\u8bd1\u6b4c\u8bcd")))}}]),n}(x.PureComponent),ae=n(406),re=(n(534),{album:!1,time:!0,singer:!0,rank:!1,cover:!1,edit:!0,more:!1,delete:!0}),oe=function(e){var t=e.playSong,n=e.songList,a=e.currentMid,r=e.changePlay,o=e.deleteSong,l=e.lyric,i=e.currentTime,s=e.getPlayLyricElment,c=e.translateY,m=e.isTrans,d=e.showTransBtn,p=e.openLang,f=e.changeSelect,h=e.changeAddSongPlayList,g=e.bacthDelete,y=e.bacthAddLick,_=e.bacthFan,v=e.dowLoadSong,b=e.clearSongList,E=e.handleDragLyricMouseDown,k=w.a.createRef(),L=Object(x.useState)(null),N=u()(L,2),C=N[0],P=N[1],O=function(){var e=document.getElementsByClassName("player__bd");e&&e.length>0&&P(e[0].clientHeight-56)};return Object(x.useEffect)((function(){return O(),window.addEventListener("resize",O,!1),function(){window.removeEventListener("resize",O)}}),[]),w.a.createElement("div",{className:"player_style_normal"},w.a.createElement("div",{className:"mod_songlist_toolbar"},w.a.createElement("a",{onClick:y,className:"mod_btn"},w.a.createElement("i",{className:X()("mod_btn_green__icon_like",{"mod_btn_green__icon_like--like":_})}),"\u6536\u85cf",w.a.createElement("span",{className:"mod_btn__border"})),w.a.createElement("a",{onClick:function(t){(0,e.addPlayList)(S.j.getEventPostion(t))},className:"mod_btn"},w.a.createElement("i",{className:"mod_btn_green__icon_add"}),"\u6dfb\u52a0\u5230",w.a.createElement("span",{className:"mod_btn__border"})),w.a.createElement("a",{onClick:v,className:"mod_btn"},w.a.createElement("i",{className:"mod_btn_green__icon_down"}),"\u4e0b\u8f7d",w.a.createElement("span",{className:"mod_btn__border"})),w.a.createElement("a",{onClick:function(){var e;null===k||void 0===k||null===(e=k.current)||void 0===e||e.makeEmptySelectList(),g()},className:"mod_btn"},w.a.createElement("i",{className:"mod_btn_green__icon_delete"}),"\u5220\u9664",w.a.createElement("span",{className:"mod_btn__border"})),w.a.createElement("a",{onClick:b,className:"mod_btn"},w.a.createElement("i",{className:"mod_btn_green__icon_clear"}),"\u6e05\u7a7a\u5217\u8868",w.a.createElement("span",{className:"mod_btn__border"}))),w.a.createElement("div",{className:"sb_scrollable sb_main sb_viewport"},w.a.createElement("div",{className:"sb_overview",style:{height:C}},w.a.createElement(ae.a,{changeAddSongPlayList:h,deleteSong:o,changePlay:r,isPlayList:!0,currentMid:a,data:n,config:re,changeSelect:f,ref:k}))),w.a.createElement(ne,{showTransBtn:d,openLang:p,isTrans:m,translateY:c,getPlayLyricElment:s,currentTime:i,lyric:l,song:t,handleDragLyricMouseDown:E}))},le=Object(x.memo)(oe);n(535);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var se=function(e){_()(n,e);var t=ie(n);function n(){return d()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.lyric,n=e.currentTime,a=e.getPlayLyricElment,r=e.showTransBtn,o=e.openLang,l=e.isTrans,i=e.translateY,s=e.handleDragLyricMouseDown;return w.a.createElement("div",{className:"player_style_only"},w.a.createElement("div",{className:"mod_only_lyric"},w.a.createElement("div",{style:{transition:"transform 0.1s ease-out",transform:"translateY(-".concat(i,"px)")},className:"only_lyric__inner",id:"qrc_ctn",onMouseDown:s},w.a.createElement("p",{"data-id":"line_null"},"\xa0"),t&&t.map((function(e,r){var o=Z(e,r,t,n);return w.a.createElement("p",{className:X()({on:o}),key:r,ref:function(e){o&&a(e)}},e.context)})))),r&&w.a.createElement("a",{onClick:o,className:X()("btn_lang",{"btn_lang--select":l})},w.a.createElement("i",{className:"icon_txt"},"\u5f00\u542f\u97f3\u8bd1\u6b4c\u8bcd")))}}]),n}(x.PureComponent),ce=n(460);function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var me=function(e){_()(n,e);var t=ue(n);function n(){var e,a;d()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return b()(a,(e=a=t.call.apply(t,[this].concat(o)),a.handleClickprogressPlay=function(e){e.stopPropagation()},a.handleDownloaing=function(){a.props.dowLoadSong()},e))}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.song,n=e.play,a=e.prevPlay,r=e.nextPlay,o=e.playStatus,l=e.currentTime,i=e.progressTime,s=e.playMouseDown,c=e.seek,u=e.playType,m=e.setPlayType,d=e.addLike,p=e.commentCount,f=e.setPureMode,h=e.isPureMode,g=e.volume,y=e.volumeMouseDown,_=e.progressDomRef,v=e.volumeProgressDomRef,b=e.setVolume,E=e.setMute,k=0,L="0",N="0",C=!1;return t&&(k=l>=t.interval?t.interval:l,L="".concat((l/t.interval*100).toFixed(2),"%"),N="".concat((i/t.interval*100).toFixed(2),"%"),C=t.isFan),w.a.createElement("div",{className:"player__ft"},w.a.createElement("a",{onClick:a,className:"btn_big_prev"},w.a.createElement("span",{className:"icon_txt"},"\u4e0a\u4e00\u9996")),w.a.createElement("a",{onClick:n,className:X()("btn_big_play",{"btn_big_play--pause":1===o})},w.a.createElement("span",{className:"icon_txt"},"\u64ad\u653e")),w.a.createElement("a",{onClick:r,className:"btn_big_next"},w.a.createElement("span",{className:"icon_txt"},"\u4e0b\u4e00\u9996")),w.a.createElement("div",{className:"player_music"},t&&w.a.createElement(x.Fragment,null,w.a.createElement("div",{className:"player_music__info"},w.a.createElement("a",{title:"Back at One",target:"_blank",rel:"noopener noreferrer",href:Object($.d)({id:t.id,mid:t.mid,songtype:t.type})},t.title)," ","- ",w.a.createElement(G.a,{singers:t.singer})),w.a.createElement("div",{className:"player_music__time"},S.j.makePlayTime(k)," / ",t.playTime)),w.a.createElement("div",{ref:_,onClick:c,className:"player_progress"},w.a.createElement("div",{className:"player_progress__inner"},w.a.createElement("div",{className:"player_progress__load",style:{width:N}}),w.a.createElement("div",{className:"player_progress__play",style:{width:L}},w.a.createElement("i",{onClick:this.handleClickprogressPlay,onMouseDown:s,className:"player_progress__dot"}))))),0===u&&w.a.createElement("a",{onClick:m,className:"btn_big_style_list",title:"\u5217\u8868\u5faa\u73af"},w.a.createElement("span",{className:"icon_txt"},"\u5217\u8868\u5faa\u73af")),2===u&&w.a.createElement("a",{onClick:m,className:"btn_big_style_random",title:"\u968f\u673a\u64ad\u653e"},w.a.createElement("span",{className:"icon_txt"},"\u968f\u673a\u64ad\u653e")),1===u&&w.a.createElement("a",{onClick:m,className:"btn_big_style_single",title:"\u5355\u66f2\u5faa\u73af"},w.a.createElement("span",{className:"icon_txt"},"\u5355\u66f2\u5faa\u73af")),3===u&&w.a.createElement("a",{onClick:m,className:"btn_big_style_order",title:"\u987a\u5e8f\u5faa\u73af"},w.a.createElement("span",{className:"icon_txt"},"\u987a\u5e8f\u5faa\u73af")),w.a.createElement("a",{onClick:d,className:X()("btn_big_like",{"btn_big_like--like":C})},w.a.createElement("span",{className:"icon_txt"},"\u559c\u6b22")),w.a.createElement("a",{onClick:this.handleDownloaing,className:"btn_big_down"},w.a.createElement("span",{className:"icon_txt"},"\u4e0b\u8f7d")),w.a.createElement("a",{onClick:f,className:X()("btn_big_only",{"btn_big_only--on":h})},w.a.createElement("span",{className:"icon_txt"},h?"\u5173\u95ed\u7eaf\u6d01\u6a21\u5f0f":"\u6253\u5f00\u7eaf\u6d01\u6a21\u5f0f")),w.a.createElement(ce.a,{songMid:t&&t.mid,commentCount:p}),w.a.createElement("div",{onClick:b,className:"player_progress player_voice"},w.a.createElement("a",{onClick:E,className:X()("btn_big_voice",{"btn_big_voice--no":0===g})},w.a.createElement("span",{className:"icon_txt"},0===g?"\u6253\u5f00\u58f0\u97f3":"\u5173\u95ed\u58f0\u97f3")),w.a.createElement("div",{onClick:b,ref:v,className:"player_progress__inner"},w.a.createElement("div",{className:"player_progress__play",style:{width:"".concat(100*g,"%")}},w.a.createElement("i",{onMouseDown:y,className:"player_progress__dot"})))))}}]),n}(x.PureComponent),de=function(){var e=s()(N.a.mark((function e(t){var n,a,r,o,l,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return",null);case 2:return n=(new Date).getUTCMilliseconds(),n=String(Math.round(2147483647*Math.random())*n%1e10),a=[],r=[],o=0,t.forEach((function(e){a.push(e.mid),r.push((null===e||void 0===e?void 0:e.type)||0),e.ctx&&(o=1)})),l=S.i.getUin?S.i.getUin().toString():"",i={guid:n,songmid:a,songtype:r,uin:l,loginflag:1,platform:"20"},o&&(i.ctx=o),e.abrupt("return",Object(S.h)().request([{module:"vkey.GetVkeyServer",method:"CgiGetVkey",param:i}]).then((function(e){try{return e[0].data}catch(t){}})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){function e(t){var n=this;d()(this,e),fe.call(this);var a=t.songList,r=document.createElement("audio");r.preload="auto",r.style.width="0",r.style.height="0",document.body.appendChild(r),this.audio=r,this.addPlayList(a),this.audio.addEventListener("play",(function(){n.playPromise||(n.playType=2,n.isPlay=!0,n.onplayCallback.forEach((function(e){e()})))})),this.audio.addEventListener("pause",(function(){n.playType=1,n.isPlay=!1,n.onpauseCallback.forEach((function(e){e()}))})),this.audio.addEventListener("timeupdate",(function(){var e=n.audio.currentTime;n.ontimeupdateCallback.forEach((function(t){t(e)}))})),this.audio.addEventListener("loadedmetadata",(function(){n.onloadedmetadataCallback.forEach((function(e){e()}))})),this.audio.addEventListener("ended",(function(){n.playType=0,n.onendedCallback.forEach((function(e){e()}))})),this.audio.addEventListener("progress",(function(){n.onprogressCallback.forEach((function(e){e(n.audio.buffered)}))})),this.audio.addEventListener("error",(function(e){n.onerrorCallback.forEach((function(t){t(e,n.audio.error)}))}))}return f()(e,[{key:"loop",get:function(){return this.audio.loop},set:function(e){this.audio.loop=e}},{key:"duration",get:function(){return this.audio.duration}},{key:"currentTime",get:function(){return this.audio.currentTime},set:function(e){this.audio.currentTime=e}},{key:"volume",get:function(){return this.audio.volume},set:function(e){"number"===typeof e&&e>=0&&e<=1&&(this.audio.volume=e)}},{key:"play",value:function(e,t){var n=this;if(e){var a,r=e.mid;this.currentMid!==e.mid&&(this.currentMid=r),isNaN(null===(a=this.audio)||void 0===a?void 0:a.duration)||(this.audio.currentTime=0);var o=this.playUrlMap[r];o?(this.audio.src=o,t||this.audio.play()):this.addPlayList([e]).then((function(e){o=e[r],n.audio.src=o,n.audio.play()}))}else{if(2===this.playType)return void this.pause();this.audio.play()}}},{key:"pause",value:function(){this.audio.pause()}},{key:"onplay",value:function(e){this.onplayCallback.push(e)}},{key:"onpause",value:function(e){this.onpauseCallback.push(e)}},{key:"ontimeupdate",value:function(e){this.ontimeupdateCallback.push(e)}},{key:"onprogress",value:function(e){this.onprogressCallback.push(e)}},{key:"onloadedmetadata",value:function(e){this.onloadedmetadataCallback.push(e)}},{key:"onended",value:function(e){this.onendedCallback.push(e)}},{key:"onerror",value:function(e){this.onerrorCallback.push(e)}},{key:"clear",value:function(){this.pause(),this.audio.currentTime=0,this.audio.src=null,this.currentMid=null,this.playType=0}},{key:"ldealUrl",value:function(e){var t=this;if(e&&e.midurlinfo){var n=e.thirdip&&e.thirdip[0]?e.thirdip[0]:"http://dl.stream.qqmusic.qq.com/";e.midurlinfo.forEach((function(e,a){if(e){var r=e.purl;r&&!/^https?:\/\//i.test(r)&&(r=n+r),t.playUrlMap[e.songmid]=r}}))}}}]),e}(),fe=function(){var e=this;this.onplayCallback=[],this.onendedCallback=[],this.onpauseCallback=[],this.onloadedmetadataCallback=[],this.ontimeupdateCallback=[],this.onprogressCallback=[],this.onerrorCallback=[],this.playType=0,this.playUrlMap={},this.addPlayList=function(t){return de(t).then((function(t){return e.ldealUrl(t),e.playUrlMap}))},this.destroy=function(){document.body.removeChild(e.audio)}},he=pe,ge=n(393);n(536),n(445),n(442);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b()(this,n)}}var be={},Ee=function(e){_()(n,e);var t=ve(n);function n(){var e,a;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b()(a,(e=a=t.call.apply(t,[this].concat(o)),a.state={isPureMode:!1,playSong:null,songList:[],playStatus:0,currentTime:0,progressTime:0,playType:0,currentMid:null,maskImage:null,lyric:null,translateY:0,isTrans:!0,showTransBtn:!1,currentIndex:0,bacthFan:!1,commentCount:null,volume:1},a.playTypeEnum=[0,1,2,3],a.hasInteract=!1,a.down=!1,a.currentTime=0,a.oldClientX=0,a.currentIndex=-1,a.selectArr=[],a.volume=1,a.lyricRollValve=!1,a.originalY=0,a.originalTop=0,a.timerValve=null,a.unblock=null,a.onerrorCallback=[],a.handleYMod=function(){var e=(S.f.get("y_mod")||"").split("|").map((function(e){return parseFloat(e)?parseFloat(e):void 0})),t=u()(e,3),n=t[0],r=void 0===n?0:n,o=t[1],l=void 0===o?.5:o,i=t[2],s=void 0===i?1:i;a.playTypeEnum.includes(r)||(r=0),0!==l&&(l<0||l>1)&&(l=.5),[0,1].includes(s)||(s=1),a.setState({volume:l,playType:r,isTrans:!!s}),a.volume=l,a.player.volume=l},a.handleSetYMod=function(e,t){if(t){var n=a.state,r=n.playType,o=n.volume,l=Number(a.state.isTrans);"isTrans"===t&&[0,1].includes(e)?l=e:"volume"===t&&e<=1&&e>=0?o=e:"playType"===t&&a.playTypeEnum.includes(e)&&(r=e),S.f.set("y_mod","".concat(r,"|").concat(o,"|").concat(l))}},a.handleIndirectAutoPlay=function(){document.addEventListener("click",(function(){var e;a.hasInteract=!0;var t=(null===(e=a.state.songList)||void 0===e?void 0:e.length)||0;1!==a.state.playStatus&&t&&a.player.play()}),{once:!0}),setTimeout((function(){var e,t=(null===(e=a.state.songList)||void 0===e?void 0:e.length)||0;if(1!==a.state.playStatus&&!a.hasInteract&&t)var n=Object(M.b)({title:"QQ\u97f3\u4e50\u63d0\u9192\u60a8",subtit:"\u7531\u4e8e\u60a8\u7684\u6d4f\u89c8\u5668\u8bbe\u7f6e\uff0c\u97f3\u4e50\u65e0\u6cd5\u81ea\u52a8\u64ad\u653e\uff0c\u8bf7\u624b\u52a8\u70b9\u51fb\u64ad\u653e\u3002",type:"warning",btn:[{fn:function(){n()},text:"\u6211\u77e5\u9053\u4e86",green:!0}]})}),1500)},a.getSongLick=function(){var e=s()(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.k)(t);case 2:(n=e.sent)&&a.setState({songList:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeAddSongPlayList=function(){var e=a.state.songList;a.getSongLick(e)},a.setTranslateY=function(){if(a.lyricElment&&!a.lyricRollValve){var e=a.state.isPureMode,t=e?290:102,n=a.lyricElment.offsetTop,r=0;n>=t&&(r=n-t),(r+=(980-document.body.clientHeight)/(e?5:4))<0&&(r=0),a.setState({translateY:r})}},a.handleDragLyricMouseDown=function(e){e.preventDefault(),e.stopPropagation(),a.originalTop||(a.originalTop=a.state.translateY),a.originalY=e.pageY,a.lyricRollValve=!0,document.addEventListener("mouseup",a.handleDragLyricMouseUp),document.addEventListener("mousemove",a.handleDragLyricMouseMove)},a.handleDragLyricMouseUp=function(){var e=a.state.translateY;a.originalTop=e<0?0:e,a.timerValve&&clearTimeout(a.timerValve),a.timerValve=setTimeout((function(){a.lyricRollValve=!1,a.originalTop=0}),3e3),document.removeEventListener("mousemove",a.handleDragLyricMouseMove),document.removeEventListener("mouseup",a.handleDragLyricMouseUp)},a.handleDragLyricMouseMove=function(e){var t=a.originalY-e.pageY+a.originalTop;a.setState({translateY:t<0?0:t})},a.handleOpenLang=function(){if(-1!==a.currentIndex){var e=a.state.isTrans,t=null;t=e?a.lyricData.lyricList:a.lyricData.transList,a.setState({isTrans:!e,lyric:t},a.setTranslateY),a.handleSetYMod(Number(!e),"isTrans")}},a.setBackground=function(e,t){var n=S.j.getAlbumPic(e);a.setState({maskImage:n},(function(){document.body.style.backgroundColor="#".concat(t)}))},a.checkPlay=function(e,t,n){var r,o=a.state.songList,l=e[t];if(l){if(-1!==a.currentIndex&&(null===(r=o[a.currentIndex])||void 0===r?void 0:r.mid)===(null===l||void 0===l?void 0:l.mid))return n||2===a.player.playType||a.player.play(),a.currentIndex=t,void a.setState({currentIndex:t});Object(O.a)({mid:l.mid,songid:l.id,songtype:l.type}).then((function(e){a.lyricData=e;try{var t=e.transList&&e.transList.length>0;a.setState({showTransBtn:t,isTrans:!0,lyric:t?e.transList:e.lyricList})}catch(n){}})),Object(P.e)([{id:l.id,type:l.type}]).then((function(e){a.setState({commentCount:e[l.id]||null})}));var i=l.album.mid;be[i]?a.setBackground(i,be[i]):Object(P.d)(l.album.mid).then((function(e){be[i]=e.color,a.setBackground(i,e.color)})),a.currentIndex=t,a.setState({progressTime:0,currentTime:0,currentIndex:t,translateY:0,lyric:null,commentCount:null,volume:a.volume}),a.player.play(l,n),a.playSongData.index=t,S.f.setJson("playSongData",a.playSongData)}else a.handleClearAllResetState()},a.handleChangePlay=function(e,t,n,r){var o=t||a.state.songList;a.currentIndex!==e||n?a.checkPlay(o,e,r):a.player.play()},a.handleCurrentPlay=function(){-1!==a.currentIndex&&a.handleChangePlay(a.currentIndex)},a.handlePrevPlay=function(){if(-1!==a.currentIndex&&a.state.songList){var e=a.state,t=e.songList,n=e.playType,r=a.currentIndex;if(2===n)do{r=Math.floor(((null===t||void 0===t?void 0:t.length)||0)*Math.random())}while(null!==t&&void 0!==t&&t.length&&r===a.currentIndex);else 0===r?r=t.length-1:r--;a.handleChangePlay(r)}},a.handleNextPlay=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(-1!==a.currentIndex&&a.state.songList){var t=a.state,n=t.songList,r=t.playType,o=a.currentIndex;if(!e||3!==r||o!==n.length-1){if(2===r)do{o=Math.floor(((null===n||void 0===n?void 0:n.length)||0)*Math.random())}while(null!==n&&void 0!==n&&n.length&&o===a.currentIndex);else(!e||0!==r&&3!==r)&&e||(o===n.length-1?o=0:o++);a.handleChangePlay(o)}}},a.handleMute=function(e){e.stopPropagation(),0!==a.state.volume?(a.setState({volume:0}),a.player.volume=0):(a.player.volume=a.volume,a.setState({volume:a.volume}))},a.handleVolumeMouseUp=function(){window.removeEventListener("mouseup",a.handleVolumeMouseUp,!1),window.removeEventListener("mousemove",a.handleVolumeMousemove,!1),a.player.volume=a.volume},a.handleVolumeMousemove=function(e){e.preventDefault(),e.stopPropagation();var t=K(e,a.volumeProgressDom);a.volume=t,a.setState({volume:t})},a.handleVolumeMouseDown=function(){window.addEventListener("mousemove",a.handleVolumeMousemove,!1),window.addEventListener("mouseup",a.handleVolumeMouseUp,!1)},a.handleSetVolume=function(e){var t=K(e,a.volumeProgressDom);a.setState({volume:t}),a.volume=t,a.player.volume=t,a.handleSetYMod(t,"volume")},a.handleMousemove=function(e){e.preventDefault(),e.stopPropagation();var t=a.state.songList,n=K(e,a.progressDom)*t[a.currentIndex].interval;a.setState({currentTime:n})},a.handleMouseDown=function(e){-1!==a.currentIndex&&(e.preventDefault(),e.stopPropagation(),a.down=!0,window.addEventListener("mousemove",a.handleMousemove,!1),window.addEventListener("mouseup",a.handleMouseUp,!1))},a.handleMouseUp=function(){window.removeEventListener("mouseup",a.handleMouseUp,!1),window.removeEventListener("mousemove",a.handleMousemove,!1),a.down=!1,a.player.currentTime=a.currentTime},a.handleSeek=function(e){if(-1!==a.currentIndex){var t=a.state.songList,n=K(e,a.progressDom)*t[a.currentIndex].interval;a.setState({currentTime:n}),a.player.currentTime=n}},a.handleSetPlayType=function(){var e=a.state.playType;3===e?e=0:e++,a.player.loop=1===e,a.setState({playType:e}),a.handleSetYMod(e,"playType")},a.handleDeleteSong=function(e,t){if(-1!==a.currentIndex){var n=!1;if("[object Array]"===Object.prototype.toString.call(e)&&e.length===a.state.songList.length&&(n=!0),t||n)a.handleClearAllResetState();else{var r=a.state.songList,o=l()(r),i="number"===typeof e?[e]:e;if(0!==i.length){var s=g()(a).currentIndex;if((o=o.filter((function(e,t){var n=-1===i.indexOf(t);return n||s>t&&s--,n})))[s]||(s=0),0!==o.length){var c=2!==a.player.playType;a.handleChangePlay(s,o,!0,c),a.playSongData.songList=o,S.f.setJson("playSongData",a.playSongData),a.setState({songList:o},a.getbacthFan)}else a.handleClearAllResetState()}else I.a.show({type:"warning",msg:"\u8bf7\u9009\u62e9\u6b4c\u66f2"})}}},a.getPlayLyricElment=function(e){a.lyricElment=e},a.setListLick=function(e,t,n){return a.state.songList.map((function(a,r){var o=a;return-1!==e.indexOf(r)&&((o=_e({},o)).isFan=t,n&&n.push(o)),o}))},a.handleAddLike=function(){var e=s()(N.a.mark((function e(t){var n,r,o,l,i,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==a.currentIndex){e.next=2;break}return e.abrupt("return");case 2:if(n=a.state,r=n.songList,o=n.bacthFan,l=[],0!==(i=Array.isArray(t)?t:[a.currentIndex]).length){e.next=9;break}return I.a.show({type:"warning",msg:"\u8bf7\u9009\u62e9\u6b4c\u66f2"}),e.abrupt("return");case 9:return s=1===i.length?r[i[0]].isFan:o,a.setState({songList:a.setListLick(i,!s,l)},(function(){a.selectArr.length>0&&a.getbacthFan()})),e.next=13,Object(P.a)(201,l,s);case 13:e.sent||a.setState({songList:a.setListLick(i,!s)},(function(){a.selectArr.length>0&&a.getbacthFan()}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeSelect=function(e,t){a.selectSongList=e,a.selectArr=t,a.getbacthFan()},a.bacthAddLick=function(){a.handleAddLike(a.selectArr)},a.bacthDelete=function(){a.handleDeleteSong(a.selectArr),a.selectArr=[]},a.progressDomRef=function(e){a.progressDom=e},a.volumeProgressDomRef=function(e){a.volumeProgressDom=e},a.bacthDownloadSong=function(){-1!==a.currentIndex&&(0!==a.selectArr.length?a.handleDowLoadSong(a.selectSongList):I.a.show({type:"warning",msg:"\u8bf7\u9009\u62e9\u6b4c\u66f2"}))},a.handleDowLoadSong=function(e){-1!==a.currentIndex&&Object(T.c)(e||[a.state.songList[a.currentIndex]])},a.addPlayList=function(e){-1!==a.currentIndex&&(0!==a.selectArr.length?Object(j.b)(_e(_e({},e),{},{element:w.a.createElement(D.a,{isPlayList:!0,songList:a.selectSongList}),className:"mod_operate_menu"})):I.a.show({type:"warning",msg:"\u8bf7\u9009\u62e9\u6b4c\u66f2"}))},a.handleSetPureMode=function(){var e=a.state.isPureMode;a.setState({isPureMode:!e},a.setTranslateY)},a.handleClearSongList=function(){var e=a.state.songList;if(e&&0!==e.length)var t=Object(M.b)({title:"QQ\u97f3\u4e50",msg:"\u786e\u5b9a\u8981\u6e05\u7a7a\u5217\u8868\uff1f",type:"warning",btn:[{fn:function(){t()},text:"\u53d6\u6d88"},{fn:function(){a.handleDeleteSong(null,!0),t()},text:"\u786e\u8ba4"}]})},a.handleClearAllResetState=function(){a.setState({lyric:null,commentCount:null,currentIndex:0,songList:null,playStatus:0}),a.currentIndex=-1,a.player.clear(),S.f.setJson("playSongData",null)},e))}return f()(n,[{key:"componentDidMount",value:function(){var e,t=this;window.name="QQMusicPlayer";var n=S.f.getJson("playSongData")||{};this.playSongData=n,this.setState({songList:n.songList}),S.f.changeStorage((function(e){if("playSongData"===e.key){t.playSongData=e.newValue||{};var n=t.playSongData,a=n.songList,r=n.index;t.playSongData.isPlay&&t.handleChangePlay(r,a,!0),t.setState({songList:a}),!a&&t.state.playStatus&&(t.handleCurrentPlay(),t.currentIndex=-1)}})),this.unblock=this.props.history.block((function(e){if(t.props.location.pathname.includes(Object(A.d)(A.a.PLAYER)))return window.open(e.pathname,"_blank"),!1})),this.initPlayer(n.songList),S.g.doPvg(Object(A.d)(A.a.PLAYER)),null===(e=window.SPD)||void 0===e||e.init({flag:[1649,12,9]}),this.handleIndirectAutoPlay(),this.handleYMod()}},{key:"componentWillUnmount",value:function(){window.name="",document.body.style.backgroundColor="#fafafa",this.player.destroy(),this.unblock&&this.unblock()}},{key:"initPlayer",value:function(e){if(this.player=new he({songList:e}),this.volume=this.player.volume,this.initPlayerEvent(),e&&e.length>0){this.getSongLick(e);var t=this.playSongData.index||0;e&&e.length>0&&this.handleChangePlay(t,e)}}},{key:"initPlayerEvent",value:function(){var e=this;this.player.onplay((function(){var t=e.state.songList;if(t){var n=t[e.currentIndex];e.setState({playStatus:1,currentMid:(null===n||void 0===n?void 0:n.mid)||""})}})),this.player.onpause((function(){e.setState({playStatus:0,currentMid:null})})),this.player.ontimeupdate((function(t){e.down||(e.currentTime=t,e.setState({currentTime:t},e.setTranslateY))})),this.player.onprogress((function(t){var n=0;-1!==e.currentIndex&&t.length&&(n=t.end(0)),e.setState({progressTime:n})})),this.player.onended((function(){e.handleNextPlay(!0)})),this.player.onerror((function(t,n){var a=e.state,r=a.currentIndex,o=a.songList;null!==o&&void 0!==o&&o.length&&I.a.show({type:"warning",msg:"\u64ad\u653e\u5931\u8d25\uff01\u5f53\u524d\u7f51\u7edc\u7e41\u5fd9\uff0c\u8bf7\u60a8\u7a0d\u540e\u518d\u8bd5\uff01"}),n.code===n.MEDIA_ERR_SRC_NOT_SUPPORTED&&r<(null===o||void 0===o?void 0:o.length)-1&&e.handleNextPlay()}))}},{key:"getbacthFan",value:function(){var e=this.selectArr;if(0!==e.length){for(var t=this.state.songList,n=0;n<e.length;n++){if(!t[e[n]].isFan)return void this.setState({bacthFan:!1})}this.setState({bacthFan:!0})}else this.setState({bacthFan:!1})}},{key:"render",value:function(){var e=this.state,t=e.isPureMode,n=e.songList,a=e.maskImage,r=e.playStatus,o=e.currentMid,l=e.currentTime,i=e.progressTime,s=e.playType,c=e.lyric,u=e.translateY,m=e.isTrans,d=e.showTransBtn,p=e.currentIndex,f=e.bacthFan,h=e.commentCount,g=e.volume,y=n&&n[p];return w.a.createElement(x.Fragment,null,w.a.createElement("h1",{className:"player_logo"},w.a.createElement("a",{href:"/",target:"_blank"},w.a.createElement("img",{className:"player_logo__pic",srcSet:"//y.qq.com/mediastyle/yqq/img/player_logo@2x.png?max_age=2592000 2x",src:"//y.qq.com/mediastyle/yqq/img/player_logo.png?max_age=2592000",alt:"QQ\u97f3\u4e50"}))),w.a.createElement("div",{className:"bg_player_mask"}),w.a.createElement("div",{className:"bg_player",style:{display:a?"block":"none",backgroundImage:"url(".concat(a,")"),backgroundColor:"#fff"}}),w.a.createElement(W,null),w.a.createElement("div",{className:"mod_player"},w.a.createElement("div",{className:"player__hd"}),w.a.createElement("div",{className:"player__bd"},t?w.a.createElement(se,{translateY:u,showTransBtn:d,openLang:this.handleOpenLang,isTrans:m,getPlayLyricElment:this.getPlayLyricElment,currentTime:l,lyric:c,handleDragLyricMouseDown:this.handleDragLyricMouseDown}):w.a.createElement(le,{clearSongList:this.handleClearSongList,addPlayList:this.addPlayList,dowLoadSong:this.bacthDownloadSong,bacthFan:f,bacthAddLick:this.bacthAddLick,bacthDelete:this.bacthDelete,changeSelect:this.handleChangeSelect,changeAddSongPlayList:this.handleChangeAddSongPlayList,showTransBtn:d,openLang:this.handleOpenLang,isTrans:m,translateY:u,getPlayLyricElment:this.getPlayLyricElment,lyric:c,currentTime:l,deleteSong:this.handleDeleteSong,changePlay:this.handleChangePlay,playSong:y,currentMid:o,songList:n||[],handleDragLyricMouseDown:this.handleDragLyricMouseDown})),w.a.createElement(me,{setMute:this.handleMute,volumeMouseDown:this.handleVolumeMouseDown,volume:g,isPureMode:t,setPureMode:this.handleSetPureMode,commentCount:h,dowLoadSong:this.handleDowLoadSong,addLike:this.handleAddLike,prevPlay:this.handlePrevPlay,nextPlay:this.handleNextPlay,setPlayType:this.handleSetPlayType,playType:s,progressDomRef:this.progressDomRef,volumeProgressDomRef:this.volumeProgressDomRef,seek:this.handleSeek,playMouseDown:this.handleMouseDown,progressTime:i,currentTime:l,playStatus:r,play:this.handleCurrentPlay,song:y,setVolume:this.handleSetVolume})))}}]),n}(x.PureComponent);Ee.getInitialMetas=s()(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ge.a)({}));case 1:case"end":return e.stop()}}),e)})));t.default=Object(C.withRouter)(Ee)},445:function(e,t,n){},460:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(16),l=(n(445),n(461),function(e){var t,n=e.songMid,a=e.commentCount,l=function(){n?window.open(Object(o.d)(o.a.SONGE_DETAIL,"".concat(n,"#comment_box"))):document.getElementById("comment_box").scrollIntoView(!0)};return null===a||0===a?t=r.a.createElement("a",{className:"mod_btn_comment",onClick:l},r.a.createElement("span",{className:"icon_txt"},"\u65e0\u8bc4\u8bba")):a>0&&a<10?t=r.a.createElement("a",{className:"mod_btn_comment btn_comment9",onClick:l},r.a.createElement("span",{className:"btn_comment__numbers"},r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_".concat(a)})),r.a.createElement("span",{className:"icon_txt"},"\u8bc4\u8bba")):a>=10&&a<100?t=r.a.createElement("a",{className:"mod_btn_comment btn_comment99",onClick:l},r.a.createElement("span",{className:"btn_comment__numbers"},r.a.createElement("span",{className:"btn_comment__numb10000"},a)),r.a.createElement("span",{className:"icon_txt"},"\u8bc4\u8bba")):a>=100&&a<1e3?t=r.a.createElement("a",{className:"mod_btn_comment btn_comment99",onClick:l},r.a.createElement("span",{className:"btn_comment__numbers"},r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_9"}),r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_9"}),r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_add"})),r.a.createElement("span",{className:"icon_txt"},"\u8bc4\u8bba")):a>=1e3&&a<1e4?t=r.a.createElement("a",{className:"mod_btn_comment btn_comment99",onClick:l},r.a.createElement("span",{className:"btn_comment__numbers"},r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_9"}),r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_9"}),r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_9"}),r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_add"})),r.a.createElement("span",{className:"icon_txt"},"\u8bc4\u8bba")):a>=1e4&&(t=r.a.createElement("a",{className:"mod_btn_comment btn_comment99",onClick:l},r.a.createElement("span",{className:"btn_comment__numbers"},r.a.createElement("span",{className:"btn_comment__numb10000"},a<1e5?"1w":"10w"),r.a.createElement("i",{className:"btn_comment__numb btn_comment__numb_add"})),r.a.createElement("span",{className:"icon_txt"},"\u8bc4\u8bba"))),t});t.a=Object(a.memo)(l)},461:function(e,t,n){},467:function(e,t,n){"use strict";var a=n(108),r=n.n(a),o=n(76),l=n.n(o),i=n(3),s=n.n(i),c=n(15),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m={encode:function(e){for(var t,n,a,r,o,l,i,s="",c=0,m=function(e){for(var t=e.replace(/\r\n/g,"\n"),n="",a=0;a<t.length;a++){var r=t.charCodeAt(a);r<128?n+=String.fromCharCode(r):r>127&&r<2048?(n+=String.fromCharCode(r>>6|192),n+=String.fromCharCode(63&r|128)):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128),n+=String.fromCharCode(63&r|128))}return n}(e);c<m.length;)r=(t=m.charCodeAt(c++))>>2,o=(3&t)<<4|(n=m.charCodeAt(c++))>>4,l=(15&n)<<2|(a=m.charCodeAt(c++))>>6,i=63&a,isNaN(n)?(i=64,l=64):isNaN(a)&&(i=64),s=s+u.charAt(r)+u.charAt(o)+u.charAt(l)+u.charAt(i);return s},decode:function(e){for(var t,n,a,r,o,l,i="",s=0,c=e.replace(/[^A-Za-z0-9+/=]/g,"");s<e.length;)t=u.indexOf(c.charAt(s++))<<2|(r=u.indexOf(c.charAt(s++)))>>4,n=(15&r)<<4|(o=u.indexOf(c.charAt(s++)))>>2,a=(3&o)<<6|(l=u.indexOf(c.charAt(s++))),i+=String.fromCharCode(t),64!==o&&(i+=String.fromCharCode(n)),64!==l&&(i+=String.fromCharCode(a));return i=function(e){for(var t="",n=0,a=0,r=0,o=0;n<e.length;)(a=e.charCodeAt(n))<128?(t+=String.fromCharCode(a),n++):a>191&&a<224?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&a)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&a)<<12|(63&r)<<6|63&o),n+=3);return t}(i)}},d=0,p=function(e){var t={},n=0;return e&&e.forEach((function(e,a){var r=e.lastIndexOf("]"),o=e.substring(0,r+1),l=e.substring(r+1),i=o.replace(new RegExp("\\[","g"),"").split("]"),s=i.length-1,c="";if(s||!l){for(;s--;)if(-1===(c=i[s]).indexOf("al:")&&-1===c.indexOf("ar:")&&-1===c.indexOf("ti:")&&-1===c.indexOf("by:")&&-1===c.indexOf("offset:")){if(c=-1!==c.indexOf(".")?c:"".concat(c,".00"),""===(l=""===l.trim()?"":l.trim()))break;t[n]=l,n++}}else t[a]=l})),t},f=function(e,t){var n=[],a=[],r=function(e,r,o){if(t[e]){var l="//"!==t[e]?s.a.createElement(i.Fragment,null,r,s.a.createElement("br",null),s.a.createElement("span",{className:"js_trans_line"},t[e])):r;a.push({context:l,interval:o})}n.push({context:r,interval:o})},o=0;return e.forEach((function(e){var t=e.lastIndexOf("]"),n=e.substring(0,t+1).replace(new RegExp("\\[","g"),"").split("]"),a=e.substring(t+1),l=n.length-1,i="",s=0;if(l||!a){for(;l--;)if(-1!==(i=n[l]).indexOf("al:"))s=i.indexOf(":"),i.substring(s+1);else if(-1!==i.indexOf("ar:"))s=i.indexOf(":"),i.substring(s+1);else if(-1!==i.indexOf("ti:"))s=i.indexOf(":"),i.substring(s+1);else if(-1!==i.indexOf("by:"))s=i.indexOf(":"),i.substring(s+1);else if(-1!==i.indexOf("offset:"))s=i.indexOf(":"),d=parseInt(i.substring(s+1),10);else{if(i=-1!==i.indexOf(".")?i:"".concat(i,".00"),""===(a=""===a.trim()?"":a.trim()))break;var c=(u=i,60*parseInt(u.substring(0,u.indexOf(":")),10)*1e3+1e3*parseInt(u.substring(u.indexOf(":")+1,u.indexOf(".")),10)+parseInt(u.substring(u.indexOf(".")+1),10)-d);r(o,a,c/1e3),o++}var u}else{r(o,a,null)}})),{lyricList:n,transList:a}},h={},g=function(){var e=r()(l.a.mark((function e(t){var n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mid,a=t.songtype,r=t.songid,n||r){e.next=3;break}return e.abrupt("return");case 3:if(!h[n||r]){e.next=5;break}return e.abrupt("return",h[n||r]);case 5:return o={loginUin:c.i.getUin()},Number(n)?o.musicid=parseInt(n,10):o.songmid=n,r&&(o.musicid=r),a>0&&(o.songtype=a),e.abrupt("return",Object(c.b)({format:"json",url:"//c.y.qq.com/lyric/fcgi-bin/fcg_query_lyric_new.fcg",data:o}).then((function(e){try{var t=null;if(0===e.code&&3!==e.type){var a=m.decode(e.lyric),r=e.trans?m.decode(e.trans):null,o=a.replace(/&#10;/g,"_!!_").replace(new RegExp("\\n","g"),"_!!_").trim().split("_!!_"),l=null;r&&(l=r.replace(/&#10;/g,"_!!_").replace(new RegExp("\\n","g"),"_!!_").trim().split("_!!_"));var i=p(l);t=f(o,i),h[n]=t}return t}catch(s){}})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a=g},532:function(e,t,n){},533:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){}}]);